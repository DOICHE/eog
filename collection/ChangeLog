2001-03-12  Jens Finke <jens@gnome.org>

	* eog-collection-control.[ch]: Parent class is EogCollectionView
	now. Use BonoboXObject functionality.
	(handle_open_uri): New function.
	(eog_control_construct): Rewrote this completely.

	* eog-collection-model.[ch]: Handle URIs now instead of
	 Bonobo_Storage objects. URIs will be resolved to storages
	 internally.
	(eog_control_set_storage): Removed.
	(eog_control_set_uri): New function.
	(eog_control_get_uri): New function.
	(eog_control_destroy): Set attributes to NULL after freeing.

	* eog-collection-view.c
	(impl_GNOME_EOG_ImageCollection_setStorage): Removed.
	(impl_GNOME_EOG_ImageCollection_openURI): New function.
	(eog_collection_view_class_init): Add signal 'open_uri'.
	(handle_item_dbl_click): New function.
	(eog_collection_view_construct): Connect to signal 'item_dbl_click'.

	* eog-collection-view.h (_EogCollectionViewClass): Signal 'open_uri' added.
	
	* eog_image_loader.c (real_image_loading): Removed unneccessary io
	buffer initialisation. Free the buffer correctly.

	* gnome-wrap-list.c (class_init): Add signal 'item_dbl_click'.
	(handle_item_event): Added case for item double click. 

	* gnome-wrap-list.h (_GnomeWrapListClass): Signal 'item_dbl_click'
	added.
	
2001-03-07  Jens Finke <jens@gnome.org>

	* Makefile.am: Added support for xml-i18n-tools.

	* GNOME_EOG_Collection.oafinfo: Renamed to
	GNOME_EOG_Collection.oaf.in and marked strings for translation
	where appropriate.
	
2001-03-06  Jens Finke <jens@gnome.org>

	* GNOME_EOG_Collection.oafinfo: Added 'x-directory/normal' to list
	of supported mime types.

	* Makefile.am (SOURCES): eog-collection-model.[ch] added.

	* cimage.c (get_unique_id): Uncommented.
	(cimage_new): Set unique_id again. I think we need this to support
	basic file operations like 'rename' or 'remove'.

	* eog-collection-view.c
	(impl_GNOME_EOG_ImageCollection_addImages): Removed.
	(impl_GNOME_EOG_ImageCollection_setStorage): New function.
	(eog_collection_view_destroy): Free 'model', 'sel_model' and
	'factory'.
	(eog_collection_view_class_init): Set correct parent class. This
	fixes the crash, which was introduced with the BonoboXObject
	switch.
	(eog_collection_view_construct): Use EogCollectionModel now.

	* eog-image-loader.c: Added 'loading_finished', '_canceled' and
	'_failed' signals.
	(eog_image_loader_set_model), (eog_image_loader_destroy): Use
	EogCollectionModel instead of EogImageListModel.
	(real_image_loading): Use Bonobo_Stream Objects instead of native
	file operations.
	
	* eog-image-loader.h: Renamed 'IS_EOG_IMAGE_LOADER[_CLASS]' to
	'EOG_IS_IMAGE_LOADER[_CLASS]' for consistency.

	* gnome-icon-item-factory.c, gnome-list-item-factory.[ch],
	gnome-list-view.[ch], gnome-wrap-list.c: Updated to use
	EogCollectionModel instead of EogImageListModel.

	* eog-collection-model.[ch]: New files.
	
2001-03-01  Jens Finke <jens@gnome.org>

	* eog_collection_view.[ch]: Use BonoboXObject.
	(eog_collection_view_get_epv): Removed.
	(init_eog_collection_view_corba_class): Removed.
	(eog_collection_view_construct): Removed 'corba_object' argument.
	(eog_collection_view_get_type): Replaced with BONOBO_X_TYPE_FUNC_FULL.
	(eog_collection_view_corba_object_create): Removed.
	
2001-02-18  Martin Baulig  <baulig@suse.de>

	* Makefile.am: Don't build the CORBA stuff here but
	link against ../libeog/libeog.la.

2001-02-15  Martin Baulig  <baulig@suse.de>

	* cimage.c (get_unique_id): Comment out unused function.
	(last_id): Moved into get_unique_id ().

2001-02-15	Jens Finke <jens@gnome.org>

	Imported first version of the image collection component.

	* GNOME_EOG_Collection.oafinfo: New file.
	* cimage.[ch]: New files.
	* eog-collection-control.[ch]: New files.
	* eog-collection-view.[ch]: New files.
	* eog-image-list-model.[ch]: New files.
	* eog-image-loader.[ch]: New files.
	* eog-image-selection-model.[ch]: New files.
	* gnome-icon-item-factory.[ch]: New files.
	* gnome-icon-list-model.[ch]: New files.
	* gnome-list-item-factory.[ch]: New files.
	* gnome-list-model.[ch]: New files.
	* gnome-list-selection-model.[ch]: New files.
	* gnome-list-view.[ch]: New files.
	* gnome-position-list-model.[ch]: New files.
	* gnome-wrap-list.[ch]: New files.
	* main.c: New file.	
