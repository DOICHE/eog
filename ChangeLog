2004-06-21  Jens Finke  <jens@triq.net>

	* eog-collection-item.c (ensure_max_string_width): Fix compiler
  	  warning.

2004-06-18  Jens Finke  <jens@triq.net>

	* eog-image-jpeg.[ch]: Build without libexif. (#144591)

2004-06-17  Jens Finke  <jens@triq.net>

    * jpegutils/: Remove every source file but transupp.[ch].

	* libeog/eog-image-save-info.[ch]
    * libeog/eog-save-dialog-helper.[ch]: New files.

    * eog.glade: New save file dialog.

	* libeog/eog-metadata-reader.[ch]: Handle duplicated EXIF markers.

	* libeog/eog-image-jpeg.[ch],
    * libeog/eog-image.[ch],
	* shell/eog-window.c: Huge patch, reworked "Save" function
      completely.

2004-06-07  Mariano Su√°rez-Alvarez  <mariano@gnome.org>

	* shell/eog-window.c (eog_window_construct_ui): use
	gnome_program_locate_file to locate the xml ui description file.
	* shell/Makefile.am (UI_FILES): correct the name of the xml ui 
	description file.

2004-06-02  Jens Finke  <jens@triq.net>

	* shell/eog-window.c (verb_Undo_cb): Implemented undo.

2004-06-02  Jens Finke  <jens@triq.net>

	* shell/eog-window.c (add_eog_icon_factory): New function.
	(eog_window_construct_ui): Construct eog stock icon factory.

	* art/Makefile.am: Added stock-flip-horizontal-16.png,
	stock-flip-vertical-16.png.

2004-05-31  Jens Finke  <jens@triq.net>

	* shell/eog-window.c (transformation_progress_cb),
	(apply_transformation),
	(verb_FlipHorizontal_cb),
	(verb_FlipVertical_cb), 
	(verb_Rotate90_cb),
	(verb_Rotate270_cb),
	(verb_Rotate180_cb): New functions.
	(eog_window_new): Don't try to set 'win_name' property.

	* shell/gtk-shell-ui.xml: Added remaining edit and save items.

2004-05-29  Christian Rose  <menthos@menthos.com>

	* configure.in: Added "tk" to ALL_LINGUAS.

2004-05-27  Jens Finke  <jens@triq.net>

	* shell/eog-window.c (verb_ZoomIn_cb),
	(verb_ZoomOut_cb),
	(verb_ZoomNormal_cb),
	(verb_ZoomFit_cb): New functions.
	(eog_window_construct_ui): Create functional different action
	groups. Added accelators
	(update_ui_visibility): Disable/enable action groups, depending on
	window state.

	* shell/gtk-shell-ui.xml: Added zoom and fullscreen items.
	
2004-05-27  Jens Finke  <jens@triq.net>

	* shell/eog-window.c (eog_window_open_uri),
	(eog_window_open_uri_list): Make recently used items work.
	(image_loading_finished_cb),
	(image_loading_failed_cb): New functions.
	(handle_image_selection_changed): (Dis-)connect to image signals.
	(adapt_window_size): Reworked.

2004-05-25  Jens Finke  <jens@triq.net>

	This is a fairly large patch, which makes fundamental changes. It
	is a work in progress and is not fully functional yet again. Use
	the BEFORE_GTK_UI_MANAGER_SWITCH tag to checkout the latest
	working version.
	
	* libeog/Makefile.am: Moved eog-wrap-list.[ch],
	eog-canvas-pixbuf.[ch], eog-collection-item.[ch] here.

	* collection/Makefile.am: Removed above files from here. Killed
	eog-collection-marshal.list.

	* shell/Makefile.am: Link with jpegutils.
	
	* shell/eog-window.c: Made this a GtkWindow, using GtkUIManager
	and related stuff. 

	* shell/gtk-shell-ui.xml: New file.

2004-05-11  Narayana Pattipati <narayana.pattipati@wipro.com>

	* collection/GNOME_EOG_Collection.server.in.in:
	Add viewer_label for Image Collection Viewer.
	Bugzilla bug#142347.

2004-05-07  Jens Finke  <jens@triq.net>

	* libeog/eog-metdata-reader.[ch]: New files.
	
	* libeog/Makefile.am (SOURCES): Added new files.
	
	* libeog/eog-image-private.h: Added attributes for exif/iptc raw data.
	
	* libeog/eog-image.c (real_image_load): Use EogMetadataReader object for
	obtaining image metadata.
	(check_for_metadata_img_format): New function.
	(load_emit_signal_info_done): Removed InfoDone signal emission.
	(eog_image_load): Always use EOG_IMAGE_LOAD_COMPLETE method 
	(significantly faster).
	(image_changed_cb): Do explicit ExifData* cast.
	(eog_image_free_mem_private): Free exif raw data if used.
	
	* collection/eog-collection-view.c (create_user_interface): 
	Create always info view.

2004-04-26  Jens Finke  <jens@triq.net>

	* libeog/eog-info-view-exif.c: Build even without libexif. #141114

2004-04-26  Rhys Jones <rhys@sucs.org>

	* eog.schemas.in: Fixed typos. #136833

2004-04-25  Jens Finke  <jens@triq.net>

	* libeog/eog-info-view.c: Reworked this completely. Derived from
	GtkNotebook now with separate pages for file and exif data.	

	* libeog/eog-ifo-view-detail.[ch],
	libeog/eog-info-view-file.[ch],
	libeog/eog-info-view-exif.[ch]: 
	EogInfoViewDetail is the base class derived from a
	GtkTreeView. EogInfoViewFile and EogInfoViewExif implement the
	code for viewing file properties resp. EXIF tag information.
	
	* collection/eog-collection-view.c (create_user_interface): Don't add
	notebook with viewport.

2004-04-23  Jens Finke  <jens@triq.net>

	Synchron image loading.

	* eog-image.[ch] (eog_image_load_sync): New.
	  (real_image_load): Broadcast thread finished msg

 	* eog-image-private.h: Added load_finished condition

2004-04-23  Jens Finke  <jens@triq.net>
	
	Faster image loading.

	* eog-image-private.h: Removed deprecated loading status fields.
	
	* eog-image.c (check_load_status): Removed.
	  (load_emit_signal_progress),
	  (load_emit_signal_info_done),
	  (load_emit_signal_size_prepared),
	  (load_size_prepared),
	  (load_emit_signal_done): New.
	  (real_image_load): Initiate signal emits where appropriate.
	  (eog_image_load): No more need for check_load_status idle func.
	
	* configure.in: Bumped version to 2.7.0
	
===== 2.7.0 =====
