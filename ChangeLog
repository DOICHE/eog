2004-08-29  Jens Finke  <jens@triq.net>

	* AUTHORS, MAINTAINERS: Updated files.

2004-08-26  Jens Finke  <jens@triq.net>

	* libeog/eog-collection-item.c (eog_collection_item_destroy): NULL image variable.
	
	* libeog/eog-image.c (load_emit_signal_done):
	* libeog/eog-wrap-list.c (eog_wrap_list_drag_data): Unref image.

	* shell/eog-window.c (eog_window_destroy): Free all image objects.
	(handle_image_selection_changed): Don't add ref to image.

2004-08-18  Jens Finke  <jens@triq.net>

	* configure.in: Bumped version to 2.7.2.

====== 2.7.2 ======

2004-08-18  Jens Finke  <jens@triq.net>

	* NEWS: updated

2004-08-18  Jens Finke  <jens@triq.net>

	* shell/recent-files/egg-recent.h: Remove eog-recent-view-bonobo.c

2004-08-18  Jens Finke  <jens@triq.net>

	* libeog/eog-uri-converter.c: Make it compile with gcc 2.95 - #150399.

2004-08-17  Jens Finke  <jens@triq.net>

	* libeog/eog-full-screen.c (eog_full_screen_new): Consider antialiasing setting.

	* shell/eog-window.c (interp_type_changed_cb), 
	  (transparency_changed_cb), 
	  (trans_color_changed_cb): New functions.
	  (eog_window_destroy): Remove gconf listeners.
	  (eog_window_init): Add gconf listeners.
	  (eog_window_update_properties): Read current gconf settings.

2004-08-16  Christian Rose  <menthos@menthos.com>

	* configure.in: Added "bs" to ALL_LINGUAS.

2004-08-16  Kjartan Maraas  <kmaraas@gnome.org>

	* configure.in: Added nb to ALL_LINGUAS.

2004-08-16  Jens Finke  <jens@triq.net>

	* Deleted viewer/ directory.
	* Deleted collection/ directory.
	* Deleted libgpi/ directory.
	* Deleted idl/ directory.

2004-08-16  Jens Finke  <jens@triq.net>

	* shell/eog-window.c (show_delete_confirm_dialog): Use ngettext - #149525.

	* shell/main.c: Fixed spelling - #149209. 

2004-08-02  Christian Rose  <menthos@menthos.com>

	* configure.in: Added "or" to ALL_LINGUAS.

2004-07-28  Jens Finke  <jens@triq.net>

	* shell/eog-window.c (handle_image_selection_changed): Set image filename
	  in title.
	  (slideshow_hide_cb): New function. Display last slideshow image in main 
	  window when returning from fullscreen mode.
	
2004-07-26  Jens Finke  <jens@triq.net>

	* shell/eog-window.c (verb_FullScreen_cb): Start slideshow with 
	selected image. If multiple images are selected, display only these.

2004-07-26  Jens Finke  <jens@triq.net>

	* libeog/eog-hig-dialog.c (eog_hig_dialog_new): New window parameter.
	Other files adapted to new signature.

2004-07-26  Jens Finke  <jens@triq.net>

	* shell/eog-window.c (save_as_file_selection_dialog): New function.
	(save_as_single_image): Assert that we can always determine
	the image format - #148190.

	* libeog/eog-pixbuf-util.[ch] (eog_pixbuf_get_format_by_vfs_uri),
	(eog_pixbuf_get_format_by_uri): New functions.

2004-07-26  Jens Finke  <jens@triq.net>

	* shell/eog-window.c (add_eog_icon_factory): Don't free static
	GnomeProgram object. Fixes #148096

2004-07-25  Jens Finke  <jens@triq.net>

	* libeog/eog-wrap-list.c (model_image_removed): Force canvas update 
	before deleting GnomeCanvasItem. 

2004-07-25  Jens Finke  <jens@triq.net>
	
	* shell/main.c (show_nonexistent_files): Use format uri for display 
	for all files. Use ngettext - #148419.

2004-07-25  Jens Finke  <jens@triq.net>

	* shell/eog-window.c: Mark main menus for translation.
	(eog_window_construct_ui): Set translation domain for ui.

	* eog.glade: Removed dummy strings. 

2004-07-24  Grzegorz Golawski <grzegol@pld-linux.org>

	* configure.in: Check for libexif = 0.5.12 and newer versions.

	* libeog/eog-info-view-exif.c: Consider API changes with new libexif.

2004-07-23  Jens Finke  <jens@triq.net>

	* configure.in: Removed GPI and libgnomeprint related checks.

2004-07-23  Jens Finke  <jens@triq.net>

	* configure.in: Removed bonobo related checks.

	* libeog/accessible-image-view.c
	* shell/eog-window.c 
	* shell/main.c: Removed bonobo includes and remaining 
	source references.

	* shell/recent-files/Makefile.am,
	* shell/recent-files/egg-recent.h: Removed eog-recent-view-bonobo.[ch]

2004-07-22  Mason Kidd <mrkidd@mrkidd.com>

	* shell/eog-window.c: Added icon for About menu item - #148097.

2004-07-21  Ray Strode  <rstrode@redhat.com>

	* eog/eog.desktop.in: Add MimeType line to desktop file
	new mime sytem.

2004-07-20  Jens Finke  <jens@triq.net>

	* configure.in: Bumped version to 2.7.1.

====== 2.7.1 ======

2004-07-20  Jens Finke  <jens@triq.net>

	* configure.in: Check for libexif = 0.5.12. Don't create Makefiles in 
	libgpi, collection, viewer and idl directories.

	* Makefile.am: Removed libgpi, collection, viewer and idl
	from SUBDIRS.

	* libeog/Makefile.am: Removed CORBA/Bonobo stuff.

	* NEWS: Updated.
	
2004-07-20  Jens Finke  <jens@triq.net>

	* libeog/eog-image-list.c (list_insert_sorted_private): Create new list 
	if list argument is NULL.

2004-07-13  Jens Finke  <jens@triq.net>

	* shell/gtk-shell-ui.xml: Renamed to eog-gtk-ui.xml
	
	* shell/eog-shell-ui.xml: Removed.

	* shell/eog-window.c (eog_window_construct_ui),
	* shell/Makefile.am: Use new ui xml.

2004-07-13  Jens Finke  <jens@triq.net>

	Implemented delete function.

	* libeog/eog-image-list.c (list_insert_sorted_private),
	(eog_image_list_remove_image),
	(remove_image_private): New function.
	(add_image_private): Return inserted position.
	
	* libeog/eog-wrap-list.c (model_image_removed): Implemented.
	(do_update): Handle N_ITEMS_CHANGED hint.

	* shell/eog-window.c (show_delete_confirm_dialog),
	(delete_image_real),
	(verb_Delete_cb): New functions.
	
	* shell/gtk-shell-ui.xml: Delete item added.

2004-07-12  Pawan Chitrakar  <pawan@nplinux.org>

	* configure.in: Added ne Nepali in ALL_LINGUAS

2004-07-11  Jens Finke  <jens@triq.net>

	'Save As' for single and multiple files.

	* eog.glade: New "Save As" dialog.

	* libeog/Makefile.am: Build eog-uri-converter and eog-save-as-dialog-helper.

	* libeog/eog-file-selection.c: Removed 'overwrite file'-checks.
      Now better handled by EogImage.

	* liboeg/eog-image-save-info.c (get_save_file_type_by_uri): 
	simplified
	(eog_image_save_info_from_vfs_uri): New function.

	* libeog/eog-image.c (eog-image_copy_file),
	(tmp_file_move_to_uri): Do file-exists-check ourselves.
	(eog_image_save_as_by_info): Don't emit changed signal.

	* libeog/eog-pixbuf-util.[ch] (eog_pixbuf_get_format_by_suffix),
	(eog_pixbuf_get_common_suffix): New method.

	* libeog/eog-save-as-dialog-helper.c: Code cleanups, some fixes.

	* libeog/eog-save-dialog-helper.c: Display target filename if available.

	* libeog/eog-uri-converter.c (eog_uri_converter_parse_string):
	Don't loose last string chars.
	(eog_uri_converter_check): Set error message.

	* shell/eog-window.c: Implemented 'Save As' function.

2004-07-04  Jens Finke  <jens@triq.net>

	* libeog/eog-uri-converter.[ch],
	* libeog/eog-save-as-dialog-helper.[ch]:
	  New files for upcoming "Save As" rework.

2004-06-21  Jens Finke  <jens@triq.net>

	* libeog/eog-collection-item.c (ensure_max_string_width): Fix compiler
  	  warning.

2004-06-18  Jens Finke  <jens@triq.net>

	* libeog/eog-image-jpeg.[ch]: Build without libexif. (#144591)

2004-06-17  Jens Finke  <jens@triq.net>

    * jpegutils/: Remove every source file but transupp.[ch].

	* libeog/eog-image-save-info.[ch]
    * libeog/eog-save-dialog-helper.[ch]: New files.

    * eog.glade: New save file dialog.

	* libeog/eog-metadata-reader.[ch]: Handle duplicated EXIF markers.

	* libeog/eog-image-jpeg.[ch],
    * libeog/eog-image.[ch],
	* shell/eog-window.c: Huge patch, reworked "Save" function
      completely.

2004-06-07  Mariano Su√°rez-Alvarez  <mariano@gnome.org>

	* shell/eog-window.c (eog_window_construct_ui): use
	gnome_program_locate_file to locate the xml ui description file.
	* shell/Makefile.am (UI_FILES): correct the name of the xml ui 
	description file.

2004-06-02  Jens Finke  <jens@triq.net>

	* shell/eog-window.c (verb_Undo_cb): Implemented undo.

2004-06-02  Jens Finke  <jens@triq.net>

	* shell/eog-window.c (add_eog_icon_factory): New function.
	(eog_window_construct_ui): Construct eog stock icon factory.

	* art/Makefile.am: Added stock-flip-horizontal-16.png,
	stock-flip-vertical-16.png.

2004-05-31  Jens Finke  <jens@triq.net>

	* shell/eog-window.c (transformation_progress_cb),
	(apply_transformation),
	(verb_FlipHorizontal_cb),
	(verb_FlipVertical_cb), 
	(verb_Rotate90_cb),
	(verb_Rotate270_cb),
	(verb_Rotate180_cb): New functions.
	(eog_window_new): Don't try to set 'win_name' property.

	* shell/gtk-shell-ui.xml: Added remaining edit and save items.

2004-05-29  Christian Rose  <menthos@menthos.com>

	* configure.in: Added "tk" to ALL_LINGUAS.

2004-05-27  Jens Finke  <jens@triq.net>

	* shell/eog-window.c (verb_ZoomIn_cb),
	(verb_ZoomOut_cb),
	(verb_ZoomNormal_cb),
	(verb_ZoomFit_cb): New functions.
	(eog_window_construct_ui): Create functional different action
	groups. Added accelators
	(update_ui_visibility): Disable/enable action groups, depending on
	window state.

	* shell/gtk-shell-ui.xml: Added zoom and fullscreen items.
	
2004-05-27  Jens Finke  <jens@triq.net>

	* shell/eog-window.c (eog_window_open_uri),
	(eog_window_open_uri_list): Make recently used items work.
	(image_loading_finished_cb),
	(image_loading_failed_cb): New functions.
	(handle_image_selection_changed): (Dis-)connect to image signals.
	(adapt_window_size): Reworked.

2004-05-25  Jens Finke  <jens@triq.net>

	This is a fairly large patch, which makes fundamental changes. It
	is a work in progress and is not fully functional yet again. Use
	the BEFORE_GTK_UI_MANAGER_SWITCH tag to checkout the latest
	working version.
	
	* libeog/Makefile.am: Moved eog-wrap-list.[ch],
	eog-canvas-pixbuf.[ch], eog-collection-item.[ch] here.

	* collection/Makefile.am: Removed above files from here. Killed
	eog-collection-marshal.list.

	* shell/Makefile.am: Link with jpegutils.
	
	* shell/eog-window.c: Made this a GtkWindow, using GtkUIManager
	and related stuff. 

	* shell/gtk-shell-ui.xml: New file.

2004-05-11  Narayana Pattipati <narayana.pattipati@wipro.com>

	* collection/GNOME_EOG_Collection.server.in.in:
	Add viewer_label for Image Collection Viewer.
	Bugzilla bug#142347.

2004-05-07  Jens Finke  <jens@triq.net>

	* libeog/eog-metdata-reader.[ch]: New files.
	
	* libeog/Makefile.am (SOURCES): Added new files.
	
	* libeog/eog-image-private.h: Added attributes for exif/iptc raw data.
	
	* libeog/eog-image.c (real_image_load): Use EogMetadataReader object for
	obtaining image metadata.
	(check_for_metadata_img_format): New function.
	(load_emit_signal_info_done): Removed InfoDone signal emission.
	(eog_image_load): Always use EOG_IMAGE_LOAD_COMPLETE method 
	(significantly faster).
	(image_changed_cb): Do explicit ExifData* cast.
	(eog_image_free_mem_private): Free exif raw data if used.
	
	* collection/eog-collection-view.c (create_user_interface): 
	Create always info view.

2004-04-26  Jens Finke  <jens@triq.net>

	* libeog/eog-info-view-exif.c: Build even without libexif. #141114

2004-04-26  Rhys Jones <rhys@sucs.org>

	* eog.schemas.in: Fixed typos. #136833

2004-04-25  Jens Finke  <jens@triq.net>

	* libeog/eog-info-view.c: Reworked this completely. Derived from
	GtkNotebook now with separate pages for file and exif data.	

	* libeog/eog-ifo-view-detail.[ch],
	libeog/eog-info-view-file.[ch],
	libeog/eog-info-view-exif.[ch]: 
	EogInfoViewDetail is the base class derived from a
	GtkTreeView. EogInfoViewFile and EogInfoViewExif implement the
	code for viewing file properties resp. EXIF tag information.
	
	* collection/eog-collection-view.c (create_user_interface): Don't add
	notebook with viewport.

2004-04-23  Jens Finke  <jens@triq.net>

	Synchron image loading.

	* eog-image.[ch] (eog_image_load_sync): New.
	  (real_image_load): Broadcast thread finished msg

 	* eog-image-private.h: Added load_finished condition

2004-04-23  Jens Finke  <jens@triq.net>
	
	Faster image loading.

	* eog-image-private.h: Removed deprecated loading status fields.
	
	* eog-image.c (check_load_status): Removed.
	  (load_emit_signal_progress),
	  (load_emit_signal_info_done),
	  (load_emit_signal_size_prepared),
	  (load_size_prepared),
	  (load_emit_signal_done): New.
	  (real_image_load): Initiate signal emits where appropriate.
	  (eog_image_load): No more need for check_load_status idle func.
	
	* configure.in: Bumped version to 2.7.0
	
===== 2.7.0 =====
