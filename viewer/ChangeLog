2000-11-20  Martin Baulig  <baulig@suse.de>

	* eog-image-data.[ch]: Removed.

	* eog-image.[ch]: Moved everything from eog-image-data.[ch] here.
	(eog_image_get_image): Formerly known as eog_image_data_get_image().
	(eog_image_get_pixbuf): New function.

2000-11-19  Martin Baulig  <baulig@suse.de>

	* eog-util.[ch]: New files.
	(eog_util_add_interfaces): New function.
	(eog_util_split_string): New function.

	* eog-embeddable.c (eog_embeddable_add_interfaces): Removed, use
	eog_util_add_interfaces() instead.
	* eog-control.c (eog_control_add_interfaces): Likewise.
	* eog-embeddable-view.c (eog_embeddable_view_add_interfaces): Likewise.

	* eog-image.c (eog_image_construct): Create a BonoboItemContainer
	and provide two arguments - `control' which calls eog_control_new()
	on the EogImage to return a new BonoboControl and `embeddable' which
	does the same with eog_embeddable_new().
	
	* eog-image-view.c (eog_image_view_construct): Create a
	BonoboItemContainer.

	* eog-control.c (eog_control_construct): Pass down the
	BonoboItemContainer from the EogImageView.
	* eog-embeddable-view.c (eog_embeddable_view_construct): Likewise.

	* main.c (eog_image_viewer_factory): Added factory for GNOME::EOG::Image.
	(main): Don't force fatal warnings.

	* sample-container.c: New file.

2000-11-19  Martin Baulig  <baulig@suse.de>

	Moved the zoomable from the EogImageView into the EogControl.

	* eog-image-view.h (eog_image_view_get_zoomable): Removed.
	(eog_image_view_get_zoom_factor): New function.
        (eog_image_view_set_zoom_factor): New function.
        (eog_image_view_zoom_to_fit): New function.

	* eog-control.c (eog_control_create_ui): New static function. This
	creates the zoom menus and toolbar.
	(eog_control_set_ui_container): New static function. This calls
	eog_image_view_set_ui_container() and then eog_control_create_ui().
	(eog_control_unset_ui_container): New static function. This calls
	eog_image_view_unset_ui_container().
	(eog_control_activate): Call eog_control_set/unset_ui_container()
	instead of eog_image_view_set/unset_ui_container().
	(eog_control_construct): Create the BonoboZoomable here.

	* eog-image-view.c
	(zoomable_set_frame_cb, zoomable_set_zoom_level_cb,
	zoom_index_from_float, zoom_level_from_index, zoomable_zoom_in_cb,
	zoomable_zoom_out_cb, zoomable_zoom_to_fit_cb,
	zoomable_zoom_to_default_cb, verb_ZoomIn_cb, verb_ZoomOut_cb,
	verb_ZoomToDefault_cb, verb_ZoomToFit_cb): Moved to eog-control.c.

	* eog-control.c:
	(zoomable_set_frame_cb, zoomable_set_zoom_level_cb,
	zoom_index_from_float, zoom_level_from_index, zoomable_zoom_in_cb,
	zoomable_zoom_out_cb, zoomable_zoom_to_fit_cb,
	zoomable_zoom_to_default_cb, verb_ZoomIn_cb, verb_ZoomOut_cb,
	verb_ZoomToDefault_cb, verb_ZoomToFit_cb): Moved here.

2000-11-19  Martin Baulig  <baulig@suse.de>

	* eog-image.[ch]: New files. This implements GNOME::EOG::Image which
	is (currently) derived from GNOME::EOG::ImageData.

	* eog-image-view.c (eog_image_view_new, eog_image_view_construct):
	This now takes a GNOME::EOG::Image, not a GNOME::EOG::ImageData.
	(eog_image_view_get_image_data): Renamed to eog_image_view_get_image().

	* eog-control.c (eog_control_new, eog_control_construct):
	This now takes a GNOME::EOG::Image, not a GNOME::EOG::ImageData.
	* eog-embeddable.c (eog_embeddable_new): Likewise.
	(eog_embeddable_construct): Likewise.
	* eog-embeddable-view.c (eog_embeddable_view_new): Likewise.
	(eog_embeddable_view_construct): Likewise.

2000-11-18  Martin Baulig  <baulig@suse.de>

	* eog-image-view.c (EogImageViewPrivate): Added `has_zoomable_frame'.
	(zoomable_set_frame_cb): New callback function for the "set_frame"
	signal on the Zoomable; this sets image_view->priv->has_zoomable_frame.
	(eog_image_view_create_ui): Manually create the UI for the zoom toolbar
	and the zoom menu entries here, but only if `has_zoomable_frame'.

	* eog-image-view-ui.xml: Removed the EogZoomToolbar and the
	zoom menus.

2000-11-17  Martin Baulig  <baulig@suse.de>

	* eog-image-view.c (verb_ZoomIn_cb, verb_ZoomOut_cb,
	verb_ZoomToDefault_cb, verb_ZoomToFit_cb): New callback functions;
	they emit the corresponding signals on the zoomable.
	(eog_image_viewer_verbs): Added "ZoomIn", "ZoomOut", "ZoomToDefault"
	and "ZoomToFit".

	* eog-image-view-ui.xml: Moved the config stuff into submenus,
	added some menu items for zooming and a "EogZoomToolbar".

2000-11-16  Martin Baulig  <baulig@suse.de>

	* eog-image-view.c (zoomable_zoom_to_fit_cb): Implemented;
	first call ui_image_zoom_fit(), then get the new zoom level
	from the ImageView and emit the "set_zoom_level" signal on
	the zoomable.
	(eog_image_view_construct): Set `has_min_zoom_level' and
	`has_max_zoom_level' on the zoomable.

2000-10-27  Martin Baulig  <baulig@suse.de>

	* eog-image-control.[ch]: Renamed to eog-control.[ch].

	* eog-embeddable.[ch]: New files.
	* eog-embeddable-view.[ch]: New files.

2000-10-26  Martin Baulig  <baulig@suse.de>

	Imported first version of my new eog-image-viewer component.

	* eog-image-data.[ch]: New files.
	* eog-image-view.[ch]: New files.
	* eog-image-control.[ch]: New files.
	* eog-image-view-ui.xml: New file.
	* eog-image-viewer.oafinfo: New file.
	* main.c: New file.

